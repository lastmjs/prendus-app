<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/app-layout/app-layout.html">
<link rel="import" href="../../bower_components/app-layout/app-header/app-header.html">
<link rel="import" href="../../bower_components/app-layout/app-drawer/app-drawer.html">
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/iron-icons/social-icons.html">
<link rel="import" href="../../bower_components/paper-menu-button/paper-menu-button.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../node_modules/redux-store-element/redux-store.html">

<dom-module id="prendus-navbar">
    <template>
        <style include="prendus-styles">
          .small-screen{
            visibility: hidden;
          }
        </style>

        <redux-store id="reduxStoreElement" action="[[action]]" on-statechange="stateChange"></redux-store>
        <app-header id ="prendus-navbar">
          <app-toolbar>
            <a id="home-link" href="/"><img id="logo" src="../../images/navbar-logo.png" alt="Prendus"></a>
            <dom-if if="[[user]]">
              <template>
                <div >
                  <paper-menu-button no-overlap id="small-screen">
                    <paper-icon-button icon="social:person-outline" slot="dropdown-trigger" alt="menu"></paper-icon-button>
                    <paper-listbox class="navbar-menu" slot="dropdown-content" alwaysOnTop>
                      <paper-item>My Account</paper-item>
                      <paper-item><a class="prendus-button prendus-button--recommended navbar-text" on-click="logout">Log out</a></paper-item>
                    </paper-listbox>
                  </paper-menu-button>
                  <iron-icon icon="social:person"></iron-icon>
                  <span id="large-screen">[[user.email]]<a class="prendus-button prendus-button--recommended navbar-text" on-click="logout">Log out</a></span>
                </div>
              </template>
            </dom-if>
            <dom-if if="[[!user]]">
              <template>
                <a class="prendus-button prendus-button--recommended navbar-text" href="signup">Signup</a>
                <a class="prendus-button prendus-button--recommended navbar-text" href="login">Login</a>
              </template>
            </dom-if>
          <app-toolbar>
        </app-header>
    </template>

    <script type="module" src="prendus-navbar.ts"></script>
</dom-module>
