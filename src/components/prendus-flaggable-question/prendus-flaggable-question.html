<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../node_modules/redux-store-element/redux-store.html">
<link rel="import" href="../prendus-ui/prendus-styles.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../node_modules/prendus-question-elements/prendus-view-question.html">
<link rel="import" href="../../bower_components/paper-dialog/paper-dialog.html">

<dom-module id="prendus-flaggable-question">

  <template>

    <style include="prendus-styles">
    :host {
      position: relative;
    }
    #flag {
      position: absolute;
      top: calc(100% - 40px);
      --iron-icon-fill-color: red;
    }
    </style>
    <redux-store id="reduxStoreElement" action="[[action]]" on-statechange="stateChange"></redux-store>
    <prendus-view-question  question="[[question]]" on-question-response="_handleResponse"></prendus-view-question>
    <iron-icon id="flag" class="prendus-icon-button" icon="flag" on-click="_openFlagQuestionModal"></iron-icon>
    <paper-dialog id="flagQuestionModal" modal>
        <div class="content">
          <p>What is wrong with this question?</p>
          <div>
            <paper-input id="flag-response" label="Reason question should be flagged"></paper-input>
          </div>
        <div>
        <div class="buttons">
          <button class="prendus-button prendus-button--minor" dialog-dismiss>Cancel</button>
          <button class="prendus-button prendus-button--recommended" on-click="_createQuestionFlag">Submit Feedback</button>
        </div>
    </paper-dialog>
  </template>

  <script type="module" src="prendus-flaggable-question.ts"></script>

</dom-module>
